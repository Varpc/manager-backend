(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1082:function(e,t,n){"use strict";n.r(t);var o=n(84),r=n.n(o),a=n(664),i=n.n(a),l=n(0),c=n.n(l),s=n(182),u=n.n(s),f=n(952),p=n.n(f),m=n(628),d=n.n(m),b=n(957);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function S(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?O(e):t}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var j,k=function(e){function t(e){var n;return h(this,t),(n=S(this,w(t).call(this,e))).fromData=function(e,t,n){for(var o=60*n,r=e.length/1e3,a=e.participants,i=e.submissions.filter(function(e){return e[3]<=r}),l=t,c=[],s={},u=0;u<i.length;u+=1){var f=i[u][0];if(null===s[f]||void 0===s[f]){s[f]=c.length;var p={},m=a[f];p.name="".concat(m[0]," ").concat(m[1]),p.score=0,p.penalty=0,p.problems=[];for(var d=0;d<l;d+=1)p.problems.push([]);c.push(p)}}for(var b={},y=0;y<i.length;y+=1){var h,v=s[i[y][0]],g=i[y][1];c[v].problems[g]&&(0===c[v].problems[g].length&&(c[v].problems[g].push(0),c[v].problems[g].push(0),c[v].problems[g].push(0)),0===c[v].problems[g][1]&&(c[v].problems[g][0]=i[y][3],c[v].problems[g][1]=i[y][2],c[v].problems[g][2]+=i[y][2]-1,0!==c[v].problems[g][1]&&(c[v].score+=1,c[v].penalty+=o*-c[v].problems[g][2]+c[v].problems[g][0],null!==b[g]&&void 0!==b[g]||(b[g]=1,c[v].problems[g][1]=2))))}c.sort(function(e,t){return e.score===t.score?e.penalty-t.penalty:t.score-e.score});for(var S=0;S<c.length;S+=1)c[S].rank=S+1;return c},n.formatSeconds=function(e){var t=Math.floor(e/3600)<10?"0".concat(Math.floor(e/3600)):Math.floor(e/3600),n=Math.floor(e/60%60)<10?"0".concat(Math.floor(e/60%60)):Math.floor(e/60%60),o=Math.floor(e%60)<10?"0".concat(Math.floor(e%60)):Math.floor(e%60);return"".concat(t,":").concat(n,":").concat(o)},n.renderTableProblem=function(e){return 3===e.length?1===e[1]?c.a.createElement("div",{className:"rank-problem-item-green"},c.a.createElement("div",{className:"time"},n.formatSeconds(e[0])," (",e[2],")")):2===e[1]?c.a.createElement("div",{className:"rank-problem-item-blue"},c.a.createElement("div",{className:"time"},n.formatSeconds(e[0])," (",e[2],")")):c.a.createElement("div",{className:"rank-problem-item-red"},c.a.createElement("div",{className:"time"},"(",e[2],")")):c.a.createElement("div",{className:"rank-problem-item-write"})},n.renderProblemsItem=function(){for(var e=[],t=0;t<n.state.problemsLength;t+=1){console.log(t);var o="problems[".concat(t,"]");e.push(c.a.createElement(d.a.Column,{key:o,title:String.fromCharCode(65+t),dataIndex:o,cell:n.renderTableProblem,align:"center"}))}return e},n.renderTablePenalty=function(e){return c.a.createElement("div",null,n.formatSeconds(e))},n.state={dataSource:[],problemsLength:10,info:!1},n}return E(t,e),g(t,[{key:"componentWillReceiveProps",value:function e(t){if(t.data&&t.problemSum&&t.penalty)try{var n=JSON.parse(t.data),o=t.problemSum,r=t.penalty,a=this.fromData(n,o,r);this.setState({dataSource:a,problemsLength:o})}catch(e){this.setState({info:!0})}}},{key:"componentWillMount",value:function e(){if(this.props.data&&this.props.problemSum&&this.props.penalty)try{var t=JSON.parse(this.props.data),n=this.props.problemSum,o=this.props.penalty,r=this.fromData(t,n,o);this.setState({dataSource:r,problemsLength:n})}catch(e){this.setState({info:!0})}}},{key:"render",value:function e(){return c.a.createElement("div",null,this.state.info&&c.a.createElement(p.a,{title:"\u51fa\u9519\u54af.\u7531\u4e8e\u6570\u636e\u7684\u9519\u8bef\uff0c\u5bfc\u81f4\u65e0\u6cd5\u6e32\u67d3\uff0c\u4fee\u590d\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458",type:"warning",style:{marginTop:"10px"}}),c.a.createElement(d.a,{dataSource:this.state.dataSource,className:"rank-table"},c.a.createElement(d.a.Column,{title:"\u6392\u540d",dataIndex:"rank",width:60,align:"center"}),c.a.createElement(d.a.Column,{title:"\u540d\u79f0",dataIndex:"name",width:200,align:"center"}),c.a.createElement(d.a.Column,{title:"\u5206\u6570",dataIndex:"score",align:"center"}),c.a.createElement(d.a.Column,{title:"\u7f5a\u65f6",dataIndex:"penalty",align:"center",cell:this.renderTablePenalty}),this.renderProblemsItem()))}}]),t}(c.a.Component),P=n(958);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function T(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),e}function M(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?I(e):t}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}function R(e,t){return(R=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var z=function(e){function t(e){var n;return x(this,t),(n=M(this,L(t).call(this,e))).state={dataSource:[]},n}return D(t,e),T(t,[{key:"componentWillMount",value:function e(){this.setState({dataSource:V})}},{key:"render",value:function e(){return c.a.createElement("div",{className:"contest-score-container"},c.a.createElement(d.a,{dataSource:this.state.dataSource,className:"contest-score-table"},c.a.createElement(d.a.Column,{title:"\u6392\u540d",dataIndex:"rank",align:"center",width:60}),c.a.createElement(d.a.Column,{title:"\u540d\u79f0",dataIndex:"name",align:"center"}),c.a.createElement(d.a.Column,{title:"\u672c\u573a\u5f97\u5206",dataIndex:"score",align:"center"}),c.a.createElement(d.a.Column,{title:"\u603b\u5f97\u5206",dataIndex:"scoreSum",align:"center"})))}}]),t}(c.a.Component),V=[{rank:1,name:"\u5c0f\u660e",score:1,scoreSum:34},{rank:1,name:"\u5c0f\u660e",score:1,scoreSum:34},{rank:1,name:"\u5c0f\u660e",score:1,scoreSum:34},{rank:1,name:"\u5c0f\u660e",score:1,scoreSum:34}],J=z;function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function q(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}function A(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}function Q(e,t){return(Q=Object.setPrototypeOf||function e(t,n){return t.__proto__=n,t})(e,t)}var U=i.a.Item,X=function(e){function t(e){var n;return H(this,t),(n=A(this,F(t).call(this,e))).handleItemClick=function(e){n.setState({key:e})},n.renderContent=function(){var e=n.state.key;if(null!==n.state.data)switch(e){case"1":return c.a.createElement(k,{problemSum:n.state.data.problem_sum,penalty:n.state.data.penalty,data:n.state.data.data});case"2":return c.a.createElement(J,null);default:return c.a.createElement(k,{problemSum:n.state.data.problem_sum,penalty:n.state.data.penalty,data:n.state.data.data})}},n.state={key:1,data:null},n}return G(t,e),q(t,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.match.params.showcontest;u.a.get("/api/contest/".concat(n)).then(function(e){t.setState({data:e.data})}).catch(function(e){console.log("error",e),r.a.toast.error("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")})}},{key:"render",value:function e(){return c.a.createElement("div",null,c.a.createElement(i.a,{direction:"hoz",activeDirection:"bottom",defaultSelectedKeys:["1"]},c.a.createElement(U,{key:"1",icon:"text",onClick:this.handleItemClick},"\u8d5b\u540e\u699c\u5355"),c.a.createElement(U,{key:"2",icon:"calendar",onClick:this.handleItemClick},"\u79ef\u5206\u7edf\u8ba1")),this.renderContent())}}]),t}(c.a.Component),Y=t.default=X},713:function(e,t,n){n(713),e.exports=n(953)},952:function(e,t,n){n(713),n(713),e.exports=n(955)},953:function(e,t,n){n(40),n(87),n(954)},954:function(e,t,n){},955:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=a(n(956));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default,e.exports=t.default},956:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r,a,i=n(0),l=v(i),c,s=v(n(1)),u,f=v(n(3)),p,m=v(n(39)),d,b=v(n(707)),y=n(27),h=n(124);function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){for(var n=Object.getOwnPropertyNames(t),o=0;o<n.length;o++){var r=n[o],a=Object.getOwnPropertyDescriptor(t,r);a&&a.configurable&&void 0===e[r]&&Object.defineProperty(e,r,a)}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):g(e,t))}var j=function e(){},k={prompt:"prompt",warning:"warning",system:"warning"},P=void 0,_=void 0,x=void 0,N=function e(t,n,o){P&&x===t&&clearTimeout(P),x=t,P=setTimeout(function(){["notice-enter","notice-enter-active","notice-leave","notice-leave-active"].forEach(function(e){h.classList.removeClass(t,e)}),h.style.set(t,"height",_),n()},o)},T=function e(t,n){_=t.style.height;var o=t.offsetHeight+"px";h.classList.addClass(t,"notice-enter"),h.style.set(t,"height",0),setTimeout(function(){h.classList.addClass(t,"notice-enter-active"),h.style.set(t,"height",o)},1),N(t,n,310)},M=function e(t,n){_=t.style.height;var o=t.offsetHeight+"px";h.classList.addClass(t,"notice-leave"),h.style.set(t,"height",o),setTimeout(function(){h.classList.addClass(t,"notice-leave-active"),h.style.set(t,"height",0)},1),N(t,n,260)},I=(a=r=function(e){function t(n,o){w(this,t);var r=E(this,e.call(this,n,o));return r.state={visible:"visible"in n?n.visible:n.defaultVisible},r.handleClose=r.handleClose.bind(r),r}return C(t,e),t.prototype.componentWillReceiveProps=function e(t){"visible"in t&&this.setState({visible:t.visible})},t.prototype.handleClose=function e(){"visible"in this.props||this.setState({visible:!1});var t=this.props,n=t.onClose,o=t.afterClose,r=t.animation;n(),y.support.transition&&r||o()},t.prototype.render=function e(){var t,n=this.context.prefix||this.props.prefix,r=this.props,a=r.prefix,i=r.type,c=r.shape,s=r.size,u=r.className,p=r.title,d=r.children,h=r.visible,v=r.defaultVisible,g=r.closable,w=r.onClose,E=r.afterClose,C=r.iconType,j=r.animation,P=O(r,["prefix","type","shape","size","className","title","children","visible","defaultVisible","closable","onClose","afterClose","iconType","animation"]),_=n+"notice",x=C||k[i],N=(0,f.default)((S(t={},_,!0),S(t,_+"-"+i,i),S(t,_+"-"+c,c),S(t,_+"-"+s,s),S(t,_+"-title-content",!!p),S(t,_+"-only-content",!p&&!!d),S(t,u,u),t)),I=this.state.visible?l.default.createElement("div",o({},P,{className:N}),l.default.createElement(m.default,{className:_+"-symbol",type:x}),g&&"addon"!==c&&l.default.createElement("a",{href:"javascript:;",className:_+"-close",onClick:this.handleClose},l.default.createElement(m.default,{type:"close"})),p&&l.default.createElement("div",{className:_+"-title"},p),d&&l.default.createElement("div",{className:_+"-content"},d)):null;if(y.support.transition&&j){var L={appear:T,enter:T,leave:M};return l.default.createElement(b.default,{useTransition:!0,animation:L,afterLeave:E},I)}return I},t}(i.Component),r.contextTypes={prefix:s.default.string},r.propTypes={prefix:s.default.string,className:s.default.string,style:s.default.object,type:s.default.oneOf(["prompt","warning","system"]),shape:s.default.oneOf(["standalone","addon"]),size:s.default.oneOf(["medium","large"]),title:s.default.node,children:s.default.node,defaultVisible:s.default.bool,visible:s.default.bool,closable:s.default.bool,onClose:s.default.func,afterClose:s.default.func,iconType:s.default.string,animation:s.default.bool},r.defaultProps={prefix:"next-",type:"prompt",shape:"standalone",size:"medium",title:"",defaultVisible:!0,closable:!1,onClose:j,afterClose:j,animation:!0},a);I.displayName="Notice",t.default=I,e.exports=t.default},957:function(e,t,n){},958:function(e,t,n){}}]);