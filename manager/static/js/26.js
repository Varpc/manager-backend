(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1007:function(t,e,n){},1081:function(t,e,n){"use strict";n.r(e);var o=n(84),r=n.n(o),a=n(0),i=n.n(a),c=n(182),u=n.n(c),l=n(75),f=n.n(l),s=n(659);function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function h(t,e){return!e||"object"!==p(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}function O(t,e){return(O=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var w,S=function(t){function e(t){var n;return y(this,e),(n=h(this,g(e).call(this,t))).handleOnChange=function(t){n.setState({editorState:t})},n.handleSubmit=function(){u.a.post(n.state.url,{html:n.state.editorState.toHTML()}).then(function(){r.a.toast.success("\u63d0\u4ea4\u6210\u529f")}).catch(function(t){console.log("error",t),r.a.toast.error("\u7f51\u7edc\u9519\u8bef\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")})},n.state={url:"/api/admin/home/board",editorState:Object(s.b)("")},n}return v(e,t),m(e,[{key:"componentWillMount",value:function t(){var e=this;u.a.get(this.state.url).then(function(t){e.setState({editorState:Object(s.b)(t.data.html)})}).catch(function(t){console.log(t),r.a.toast.error("\u83b7\u53d6\u539f\u59cb\u6570\u636e\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5")})}},{key:"render",value:function t(){return i.a.createElement("div",null,i.a.createElement(s.a,{value:this.state.editorState,onChange:this.handleOnChange}),i.a.createElement("hr",null),i.a.createElement(f.a,{type:"primary",onClick:this.handleSubmit},"\u63d0\u4ea4"))}}]),e}(i.a.Component),j=n(842),E;function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function L(t,e,n){return e&&k(t.prototype,e),n&&k(t,n),t}function C(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?x(t):e}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function R(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}function F(t,e){return(F=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var U=n.n(j).a.ImageUpload,I,M=function(t){function e(){var t,n;P(this,e);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=C(this,(t=T(e)).call.apply(t,[this].concat(r)))).onRemove=function(t){u.a.delete("/api/admin/home/image",{data:{imgURL:t.imgURL}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)})},n.beforeUpload=function(t){console.log("beforeUpload callback : ",t)},n.onChange=function(t){console.log("onChane callback : ",t)},n.onSuccess=function(t,e){console.log("onSuccess callback : ",t,e)},n.onError=function(t){console.log("onError callback : ",t)},n}return R(e,t),L(e,[{key:"render",value:function t(){return i.a.createElement("div",null,i.a.createElement(U,{listType:"picture-card",action:"/api/admin/home/image",accept:"image/png, image/jpg, image/jpeg, image/gif, image/bmp",locale:{image:{cancel:"\u53d6\u6d88\u4e0a\u4f20",addPhoto:"\u4e0a\u4f20\u56fe\u7247"}},beforeUpload:this.beforeUpload,onChange:this.onChange,onSuccess:this.onSuccess,onError:this.onError,onRemove:this.onRemove,defaultFileList:this.props.defaultFileList}))}}]),e}(i.a.Component),N=n(1007);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){J(t,e,n[e])})}return t}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function z(t,e,n){return e&&q(t.prototype,e),n&&q(t,n),t}function A(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?X(t):e}function X(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function G(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&K(t,e)}function K(t,e){return(K=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var Q=function(t){function e(t){var n;return W(this,e),(n=A(this,B(e).call(this,t))).state={isLoadImage:!1,defaultFileList:[]},n}return G(e,t),z(e,[{key:"componentWillMount",value:function t(){var e=this;u.a.get("/api/admin/home/image").then(function(t){e.setState({isLoadImage:!0,defaultFileList:t.data.data.map(function(t){return H({},t,{status:"done"})})})}).catch(function(t){console.log("e",t),r.a.toast.error("\u83b7\u53d6\u539f\u59cb\u56fe\u7247\u6570\u636e\u5931\u8d25")})}},{key:"render",value:function t(){return i.a.createElement("div",{className:"editor-container"},i.a.createElement("div",null,i.a.createElement("div",{className:"title"},"\u9996\u9875\u8f6e\u64ad\u56fe\u7247"),this.state.isLoadImage&&i.a.createElement(M,{defaultFileList:this.state.defaultFileList}),i.a.createElement("div",{className:"title"},"\u9996\u9875\u516c\u544a\u677f\u5185\u5bb9"),i.a.createElement(S,null)))}}]),e}(i.a.Component),V=e.default=Q},658:function(t,e,n){},659:function(t,e,n){"use strict";var o=n(636),r=n.n(o),a=n(0),i=n.n(a),c=n(658);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(e){return typeof e}:function t(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function y(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function t(e,n){return e.__proto__=n,e})(t,e)}var g=function(t){function e(){return f(this,e),y(this,m(e).apply(this,arguments))}return h(e,t),p(e,[{key:"render",value:function t(){return i.a.createElement(r.a,l({},this.props,{media:{uploadFn:O,validateFn:v}}))}}]),e}(i.a.Component),v=function t(e){return e.size<10485760},O=function t(e){var n="/api/media",o=new XMLHttpRequest,r=new FormData,a=function t(n){console.log(n),e.success({url:o.responseText,meta:{id:"xxx",title:"xxx",alt:"xxx",loop:!0,autoPlay:!0,controls:!0,poster:""}})},i=function t(n){e.progress(n.loaded/n.total*100)},c=function t(){e.error({msg:"unable to upload."})};o.upload.addEventListener("progress",i,!1),o.addEventListener("load",a,!1),o.addEventListener("error",c,!1),o.addEventListener("abort",c,!1),r.append("file",e.file),o.open("POST",n,!0),o.send(r)};n.d(e,"b",function(){return w}),n.d(e,"a",function(){return g});var w=r.a.createEditorState}}]);